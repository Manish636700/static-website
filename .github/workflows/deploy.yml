name: Deploy to Github Pages

on:
 push:
   branches:
     - main
env:
 BUCKET_NAME: my-first-bucket-12
 REGION: ap-south-1
 
jobs:
 deploy:
   runs-on: ubuntu-latest

   steps:
   - name: checkout repository
     uses: actions/checkout@v4

   - name: Configure AWS credentials
     uses: aws-actions/configure-aws-credentials@v2
     with:
       aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
       aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
       aws-region: ${{ env.REGION }}

   - name: Deploy static files to s3
     run: |
       aws s3 sync . s3:// ${{ env.BUCKET_NAME }} --delete
